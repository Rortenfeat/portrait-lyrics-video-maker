<!DOCTYPE html>
<html lang="en" class="light">

<head>
    <meta charset="UTF-8">
    <title>Portrait Lyrics Video Maker</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Courier+Prime&family=Noto+Serif+Display:ital,wdth,wght@0,75,100..900;1,75,100..900&display=swap');
    </style>
    <style>
        html {
            font-size: 1vw;

            --lyric-size: 5rem;
            --lyric-line-height: 5rem;
            --lyric-line-gap: 2rem;
        }
        html.light {
            --bg-color: #f8f7f6;
            --prime-color: #111;
            --muted-color: #777;
            --emphasis-color: rgb(255, 39, 93);
            --bar-bg-color: #ccc;
            --cover-border-color: #f8f7f6;
            --cover-shadow-color: #0000002c;
        }
        html.dark {
            --bg-color: #000000;
            --prime-color: #ffffff;
            --muted-color: #ffffff60;
            --emphasis-color: rgb(255, 39, 93);
            --bar-bg-color: #ffffff44;
            --cover-border-color: #ffffff;
            --cover-shadow-color: #ffffff3a;
        }

        body {
            margin: 0;
            font-family: 'Courier New', Courier, monospace;
            background-color: var(--bg-color);
            overflow: hidden;
        }

        p {
            margin-block-start: 0rem;
            margin-block-end: 0rem;
        }

        .font-lyrics {
            font-family: "Noto Serif Display", serif;
            font-optical-sizing: auto;
            font-weight: 300;
            font-style: italic;
            font-variation-settings: "wdth" 75;
        }

        .font-title {
            font-family: "Noto Serif Display", serif;
            font-optical-sizing: auto;
            font-weight: 600;
            font-style: normal;
            font-variation-settings: "wdth" 75;
        }

        .font-subtitle {
            font-family: "Noto Serif Display", serif;
            font-optical-sizing: auto;
            font-weight: 400;
            font-style: normal;
            font-variation-settings: "wdth" 75;
        }

        .font-time {
            font-family: "Courier Prime", monospace;
            font-weight: 400;
            font-style: normal;
        }

        .container {
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            align-items: center;
            color: var(--prime-color);
            font-size: 1vw;

        }
        
        .top-containder {
            width: 100%;
            padding: 2vw;

            box-sizing: border-box;
            min-width: 0;
        }

        .minor-message-container {
            writing-mode: sideways-rl;
            text-orientation: mixed;
            position: absolute;
            right: 0;
        }

        .minor-message {
            font-size: 5rem;
            color: var(--muted-color);
        }

        .center-container {
            width: 100%;
            padding: 2vw;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;

            box-sizing: border-box;
            min-width: 0;
            gap: 2rem;
        }

        .bottom-container {
            width: 100%;
            padding: 2vw;

            box-sizing: border-box;
            min-width: 0;
        }

        .cover-container {
            width: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .cover-image {
            width: 50%;
            border: 2rem solid var(--cover-border-color);
            box-shadow: 0 2rem 5rem var(--cover-shadow-color);
        }


        .song-header-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .song-title {
            font-size: 10rem;
            line-height: 10rem;
            /* margin: 2rem 0; */
        }

        .song-subtitle {
            font-size: 5rem;
            line-height: 5rem;
            /* margin-top: -2rem;
            margin-bottom: 1rem; */
        }

        .lyrics-container {
            width: 100%;
            height: calc(var(--lyric-line-height) * 3 + var(--lyric-line-gap) * 3);
            /* margin: 2rem 0; */
            display: flex;
            flex-direction: column;
            flex-wrap: nowrap;
            justify-content: flex-start;
            align-items: flex-start;

            overflow: hidden;
            /* min-width: 0; */
            /* gap: var(--lyric-line-gap); */
        }

        .lyric-line {
            font-size: var(--lyric-size);
            line-height: var(--lyric-line-height);
            /* height: calc(var(--lyric-line-height) + var(--lyric-line-gap)); */
            /* white-space: nowrap; */
            /* margin: 0; */
            /* margin-bottom: var(--lyric-line-gap); */
            box-sizing: content-box;
            color: var(--muted-color);

            flex-shrink: 0;
            width: 100%;
            overflow: visible;
        }

        .lyric-line.active {
            color: var(--prime-color);
        }

        .lyric-scroll-wrapper {
            padding-bottom: var(--lyric-line-gap);
            overflow-x: auto;
            /* Allow user to scroll */
            overflow-y: visible;

            scrollbar-width: none;
            /* Firefox */
            -ms-overflow-style: none;
        }

        .lyric-scroll-wrapper::-webkit-scrollbar {
            display: none;
            /* Chrome, Safari, and Opera */
        }

        .lyric-line-text {
            white-space: nowrap;
            display: inline;
        }

        .lyric-line.active .lyric-line-text.active {
            color: var(--emphasis-color);
        }

        .lyric-line.active .lyric-line-text.past {
            color: var(--emphasis-color);
        }


        .progress-bar-container {
            display: flex;
            flex-direction: row;
            align-items: center;
            width: 100%;
        }

        .progress-bar-time {
            font-size: 3rem;
            line-height: 3rem;
            white-space: nowrap;
        }

        .progress-bar {
            --progress: 0%;
            /* width: 100%; */
            height: 0.5rem;
            margin: 0 2rem;
            /* top: -0.2rem; */
            background: linear-gradient(90deg, var(--prime-color), var(--prime-color) var(--progress), var(--bar-bg-color) 0);

            flex-grow: 1;
            position: relative;
        }

        .progress-bar::before {
            content: "";
            display: block;
            height: 1rem;
            width: 0.2rem;
            position: absolute;
            top: -50%;
            left: round(nearest, calc(var(--progress) - 0.1rem), 1px);
            background-color: var(--prime-color);
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="top-containder">
            <div class="minor-message-container">
                <p class="minor-message font-lyrics">This is a vertical and static message.</p>
            </div>
        </div>
        <div class="center-container">
            <div class="cover-container">
                <img class="cover-image" src="/src/cover.png">
            </div>
            <div class="song-header-container">
                <p class="song-title font-title">Title</p>
                <p class="song-subtitle font-subtitle">
                    <span class="song-artist">Artist</span>
                    <span class="song-album">- Album</span>
                </p>
            </div>
            <div class="progress-bar-container">
                <p class="progress-bar-time progress-bar-time-left font-time">00:00</p>
                <div class="progress-bar"></div>
                <p class="progress-bar-time progress-bar-time-right font-time">05:30</p>
            </div>
            <div class="lyrics-container font-lyrics">
                <div class="lyric-line">
                    <div class="lyric-scroll-wrapper">
                        <span class="lyric-line-text">Test Line 1</span>
                    </div>
                </div>
                <div class="lyric-line">
                    <div class="lyric-scroll-wrapper">
                        <span class="lyric-line-text">Test Line 2 La lalalala</span>
                    </div>
                </div>
                <div class="lyric-line">
                    <div class="lyric-scroll-wrapper">
                        <span class="lyric-line-text">Test Line 3 this could be a really long line that must
                            overflow</span>
                    </div>
                </div>
                <div class="lyric-line">
                    <div class="lyric-scroll-wrapper">
                        <span class="lyric-line-text">Test Line 4 you cannot see me</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="bottom-container">
        </div>
    </div>

    <script src='/src/lv.js' type="module"></script>
</body>

</html>